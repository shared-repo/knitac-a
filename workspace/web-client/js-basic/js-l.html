<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        button {
            width: 50px;
            height: 50px;
        }
    </style>
</head>
<body>
    <h2>Document 객체와 이벤트 처리 실습</h2>
    <hr>
    <table align="center">
        <tr>            
            <td>
                <img id="picture" src="image/10.jpg" 
                     style="width:500px;height:500px">
            </td>            
        </tr>
        <tr>
            <td>
                <button id="start-button">시작</button>
                <button id="stop-button">중지</button>
            </td>
        </tr>
    </table>
        
    <script type="text/javascript">
        // 1. 표시할 이미지 파일 이름을 배열로 만들기
        var images = ["10.jpg", "1.jpg", "2.jpg", "3.jpg", "4.jpg",
                      "5.jpg", "6.jpg", "7.jpg", "8.jpg", "9.jpg"];
        
        // 2. 현재 표시된 이미지의 위치 저장 변수 만들기 (위치는 0부터 시작하는 순서번호)
        var currentIdx = 0;
        
        // 3. start-button click 이벤트 처리기 등록
        var startButton = document.querySelector('#start-button');
        startButton.addEventListener("click", 
                                    function(event) { 
                                        var picture = document.querySelector('#picture');
                                        if (currentIdx < images.length - 1) { //배열.length - 1 : 배열의 마지막 요소의 위치 번호
                                            currentIdx++; // currentIdx += 1                                            
                                        } else {
                                            currentIdx = 0; // 처음으로 돌아가기
                                        }
                                        picture.src = "image/" + images[currentIdx];
                                    });

        var step = 1; // 1 or -1
        var timer = null;
        function showNextImage() {
            currentIdx += step; // step이 1이면 다음이미지, step -1 이면 이전 이미지
            if (currentIdx < 0) {
                currentIdx = images.length - 1;
            } else if (currentIdx > images.length - 1) {
                currentIdx = 0;
            }
            var picture = document.querySelector('#picture');            
            picture.src = "image/" + images[currentIdx];

            timer = setTimeout(showNextImage, 3000); // 3초 후에 이미지 다시 교체
        }
        // 4. stop-button click 이벤트 처리기 등록
        var stopButton = document.querySelector('#stop-button');
        stopButton.addEventListener("click", 
                                    function(event) { 
                                        showNextImage()
                                    });
    </script>
   
</body>
</html>